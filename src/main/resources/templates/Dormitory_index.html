<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;900&family=Noto+Sans:wght@400;900&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/adc3b87ab1.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/CSS/reset.css?after">
  <link rel="stylesheet" href="/CSS/Dormitory_index.css?after">
  <title>Index</title>
</head>
<body>
  <div class="wrapper">
    <div class="nav-container">
      <nav class="global-nav">
        <a th:onclick="|location.href='@{index(studentNum=${member.studentNum})}'|" class="global-nav-item HANSEO">GikCiting</a>
        <!--<a href="#" class="global-nav-item" th:attr="onclick=|openModal('${'?'}')|">방 신청</a>-->
        <p class="global-nav-item" onclick="openModal()">방 신청</p>
        <a href="#" class="global-nav-item">About</a>
      </nav>
      <nav class="local-nav">
        <a href="" class="local-nav-item">점호 정보</a>
        <a th:onclick="|location.href='@{settings(studentNum=${member.studentNum})}'|" class="local-nav-item">설정</a>
        <a href="LogoutMember" class="local-nav-item">로그 아웃</a>
          <!-- 관리자 메뉴 삽입
            <div class="local-nav-item"></div>
            <div class="local-nav-item"></div>
          -->
      </nav>
      </div>
      <div class="room-container">
        <div class="floor-container">
          <a href="#" class="floor-item a">2층</a>
          <a href="#" class="floor-item b">3층</a>
        </div>
        <div class="rooms">
          <label for="" class="room-item">
            201
            <div class="room-values" th:each="room : ${rooms}">
              <p th:if ="${room.roomNum == 201}" th:text="${room.studentNum}">***</p>
            </div>
          </label>
          <label for="#" class="room-item">
            202
            <div class="room-values" th:each="room : ${rooms}">
              <p th:if ="${room.roomNum == 202}" th:text="${room.studentNum}">***</p>
            </div>
          </label>
          <label for="#" class="room-item">
            203
            <div class="room-values" th:each="room : ${rooms}">
              <p th:if ="${room.roomNum == 203}" th:text="${room.studentNum}">***</p>
            </div>
          </label>
          <label for="#" class="room-item">
            204
            <div class="room-values" th:each="room : ${rooms}">
              <p th:if ="${room.roomNum == 204}" th:text="${room.studentNum}">***</p>
            </div>
          </label>
          <label for="#" class="room-item">
            205
            <div class="room-values" th:each="room : ${rooms}">
              <p th:if ="${room.roomNum == 205}" th:text="${room.studentNum}">***</p>
            </div>
          </label>
          <label for="" class="room-item">
            206
            <div class="room-values" th:each="room : ${rooms}">
              <p th:if ="${room.roomNum == 206}" th:text="${room.studentNum}">***</p>
            </div>
          </label>
          <label for="" class="room-item" >
            207
            <div class="room-values" th:each="room : ${rooms}">
              <p th:if ="${room.roomNum == 207}" th:text="${room.studentNum}">***</p>
            </div>
          </label>
        </div>
      </div>
    <!-- 모달 -->
    <div class="modal" id="modal">
      <div class="modal_body">
        <div class="m_head">
          <div class="modal_title">방 신청하기</div>
        </div>
        <div class="m_body">
          <form th:action="ApplyRoom" method="post" class="RoomApplyForm">
            <label for="rooms">*신청하실 방을 골라주세요*</label>
            <select id="rooms" name="room">
              <option value="201">201</option>
              <option value="202">202</option>
              <option value="203">203</option>
              <option value="204">204</option>
              <option value="205">204</option>
              <option value="206">206</option>
              <option value="207">207</option>
              <input class="studentNum" type="text" name="studentNum" th:value="${member.studentNum}">
            </select>
            <input type="submit" onclick="test()" class="submit-btn">
          </form>
        </div>
        <div class="m_footer">
          <div class="modal_btn cancel" id="close_btn">CANCEL</div>
        </div>
      </div>
    </div>

      <footer class="global-footer">
          <P class="HANSEO">HANSEO UNIV</P>
          <p>Contact : 제1학사관 임용훈 관장 041-660-1513</p>
      </footer>
  </div>
</body>
<script>
        let show_on;
        const modal = document.querySelector('.modal');
        let show_close = document.querySelector('.modal .cancel');

         function openModal(){  //openModal onclick

            modal.classList.add('show');

         }

        // 모달 닫기
        show_close.addEventListener('click', function(e){
            modal.classList.remove('show');
        })
        function test(){
          alert('제출 되었습니다. 승인 시 목록에 등록됩니다.');
        }
</script>
</html>
